\chapter{Safe $\lambda$-Calculus}
In \cite{KNU02}, the authors introduced a restriction on
higher-order grammars called \emph{safety} in order to study the
infinite hierarchy of trees recognized by a higher-order pushdown
automaton. They proved that trees recognized by pushdown automata of
level $n$ coincide with trees generated by safe higher-order
grammars of level $n$. This characterisation permitted them to prove
the decidability of the monadic second-order theory of infinite
trees recognized by a higher-order pushdown automaton of any level.

Safety has also appeared in a different form in \cite{Dam82} under
the name \emph{restriction of derived types}. The forthcoming thesis
of Jolie de Miranda \citep{demirandathesis} contains a comparison of
safety and the restriction of derived types.

More recently, Ong proved in \cite{OngLics2006} that the safety
assumption of \cite{KNU02} is in fact not necessary. More precisely,
the paper shows that the MSO theory of trees generated by order-$n$
recursion schemes is $n$-EXPTIME complete.

For this particular problem, \emph{safety} happens to be an
artificial restriction. However when the \emph{safety} condition is
transposed to the simply-typed $\lambda$-calculus, it gives some
interesting properties. In particular, for safe terms, it becomes
unnecessary to rename variables when performing substitution.

This chapter starts with a presentation of the original version of
the safe $\lambda$-calculus where types are required to satisfy a
condition called homogeneity. We then give a more general definition
which does not require type homogeneity.
