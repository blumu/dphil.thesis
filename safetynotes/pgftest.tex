\input{preamble.tex}
\usepackage[pgf]{pstring}


\begin{document}
A sequence
\pstr{
\nd{t = \lambda \cdot}(app){@}
\nd{\cdot}(ly){\lambda y}
\nd{\ldots}(y){y}
\nd{\cdot}(lx){\lambda \overline{x}}
\nd{\ldots}(x){x_i}
\nd{\cdot}(leta){\lambda \overline{\eta_i}} % {\ldots}
\lnk{35}{y}{ly}{\tiny 1}
\lnk{38}{lx}{app}{\tiny 1}
\lnk{30}{x}{lx}{\tiny i}
\lnk{40}{leta}{y}{\tiny i}
}.

The same one with the succinct syntax:
\Pstr{
\lambda\cdot (app)               {@}
\cdot        (ly)                {\lambda y}
{\ldots}     (y-ly,35,{\tiny 1})   {y}
{\cdot}      (lx-app,38,{\tiny 1}) {\lambda \overline{x}}
{\ldots}     (x-lx,30,{\tiny i})   {x_i}
{\cdot}      (leta-y,40,{\tiny i}) {\lambda \overline{\eta_i} }{\ldots}
}.

Another example
\pstr{
\nd{t=}(n){\lambda f z}{}
\nd(n2){@}{}
\nd(n3){\lambda g x}{}
\nd(n4){f^{[1]}}{}
\nd(n5){\lambda^{[2]}}{}
\nd(n6){x}{}
\nd(n7){\lambda^{[3]}}{}
\nd(n8){f^{[4]}}{}
\nd(n9){\lambda^{[5]}}{}
\nd(n10){z}{}
\lnk{60}{n3}{n2}{}
\lnk{45}{n4}{n}{}
\lnk{45}{n5}{n4}{}
\lnk{45}{n6}{n3}{}
\lnk{35}{n7}{n2}{}
\lnk{35}{n8}{n}{}
\lnk{45}{n9}{n8}{}
\lnk{35}{n10}{n}{}
}.

\Pstr[0.7cm]{
t = (n){\lambda f z} \
(n2){@} \
(n3-n2,60,){\lambda g x} \
(n4-n,45,){f^{[1]}} \
(n5-n4,45,){\lambda^{[2]}} \
(n6-n3,45,){x} \
(n7-n2,35,){\lambda^{[3]}} \
(n8-n,35,){f^{[4]}} \
(n9-n8,45,){\lambda^{[5]}} \
(n10-n,35,){z}
}


\end{document}
