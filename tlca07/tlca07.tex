% the LaTeX macro package from Springer-Verlag for Lecture Notes in Computer Science,
% version 2.2 for LaTeX2e
\documentclass{llncs}


\begin{document}

\frontmatter          % for the preliminaries
\pagestyle{headings}  % switches on printing of running heads
\addtocmark{Hamiltonian Mechanics} % additional mark in the TOC


\mainmatter              % start of the contributions

\title{Game semantics of the Safe $\lambda$-calculus}

\titlerunning{Game semantics of the Safe $\lambda$-calculus}  % abbreviated title (for running head)
%                                     also used for the TOC unless
%                                     \toctitle is used


\author{William Blum\inst{1} \and C.-H. Luke Ong\inst{2}}
%
\authorrunning{William Blum et al.}   % abbreviated author list (for running head)
%
%%%% modified list of authors for the TOC (add the affiliations)
\tocauthor{William Blum (University of Oxford), C.-H. Luke Ong (University of Oxford)}


\institute{Oxford University Computing Laboratory\\ Wolfson Building, Parks Road, Oxford, OX1 3QD, ENGLAND\\
\email{william.blum@comlab.ox.ac.uk\inst{1} luke.ong@comlab.ox.ac.uk\inst{2}} }

\maketitle              % typeset the title of the contribution

\newcommand\ialgol{\textsf{IA}}
\newcommand\pcf{\textsf{PCF}}
\newtheorem{thm}{Theorem}
\newtheorem{cor}{Corollary}
\pagestyle{empty}

% TLCA05:
%    Papers should not exceed 15 pages in Springer LNCS format.
%    An abstract (ASCII text) of no more than 150 words should be sent separately at least a weak before the paper submission deadline.

% LNCS:
%    The abstract should summarize the contents of the paper
%    using at least 70 and at most 150 words. It will be set in 9-point
%    font size and be inset 1.0 cm from the right and left margins.
%    There will be two blank lines before and after the Abstract. \dots

\begin{abstract}
The \emph{safety condition} has been introduced in \cite{KNU02} as a syntactic
restriction for higher-order recursion grammars that constrains the order
of the variables occurring in the grammar equations.

When transposed to the $\lambda$-calculus, the safety condition gives rise to the \emph{Safe $\lambda$-calculus}, a
strict sub-language of the $\lambda$-calculus (\cite{safety-mirlong2004}).

We present a new version of Safe $\lambda$-calculus and give a game-semantic
account of it. In particular we show that pointers are superfluous in the plays
of the game denotation of safe terms.
\end{abstract}

\section{Introduction and Related Work}

The \emph{Safety restriction} has been introduced in by Knapik, Niwi{\'n}ski and Urzyczyn in \cite{KNU02}
for the purpose of studying infinite trees generated by higher-order grammars.
Safety is very similar to the ``restriction of derived types'' which was introduced
by Damm in \cite{Dam82} however the formulation differs.

Safety is a syntactic restriction for higher-order grammars that
constrains the occurrences of the variables in the grammar
equations according to their order.
The definition of the Safety is a somewhat complex but it has an important algorithmic impact.
In particular, the authors of \cite{KNU02} proved that the Monadic Second
Order (MSO) theory of the term tree generated by a safe recursion
scheme of any order is decidable\footnote{In fact it has been shown
recently in \cite{OngLics2006} that it is also true for unsafe
recursion schemes.}. They also give the following nice automata-theoretic characterization of safety:
an infinite term is generated by a \emph{safe} higher-order grammar if and only if
it is generated by a level-$n$ pushdown automaton.


When transposed to the $\lambda$-calculus, the safety condition
gives rise to the \emph{Safe $\lambda$-calculus}, a strict
sub-language of the $\lambda$-calculus. A first version appeared in
the technical report \cite{safety-mirlong2004}. We propose a more
general and simpler version where term types are not required to be
homogeneous. A noteworthy feature of the Safe
$\lambda$-calculus is that no variable capture can occur when
performing substitution and therefore it is unnecessary to rename
variables when computing $\beta$-reductions.

Little is known about the Safe $\lambda$-calculus and there are many
problems that have yet to be studied concerning its
computational power, the complexity classes that it characterises,
its interpretation under the Curry-Howard isomorphism and its
game-semantic characterisation. This paper contributes to give an
answer to the last problem.


%\begin{thm}
%\label{thm:safeptrrecover} The pointers in the game semantics of
%safe simply-typed terms can be recovered uniquely from the
%underlying sequences of moves.
%\end{thm}

The difficulty in giving a game-semantic account of Safety lies in
the fact that it is a syntactic restriction whereas Game Semantics
is by essence a syntax-independent semantics. The solution consists
in finding a particular syntactical representation of terms on which
the plays of the game denotation can be represented.
To achieve this, we use ideas recently introduced in \cite{OngLics2006}: a term
is canonically represented by the abstract syntax tree of its
$\eta$-long normal form, referred as the \emph{computation tree}. A
computation is described by a justified sequence of nodes of the
computation tree respecting some formation rules and called a
\emph{traversal}. Traversals permit us to model $\beta$-reductions
without altering the structure of the computation tree via
substitution. A notable property is that \emph{P-view} (in the game-semantic sense) of traversals
corresponds to paths in the computation tree.

These notion permit us to establish a correspondence between the game-semantics of a term and 
some syntactic representation of it. 
To be more precise, we will show that traversals are just representations of the
uncovering of plays of the strategy denoting the term.
Then by defining an appropriate \emph{reduction} operation which eliminates traversal
nodes that are ``internal'' to the computation, we obtain an
isomorphism between the strategy denotation of a term and the set of
reductions of traversals of its computation tree.

%\begin{thm}[Correspondence theorem]
%\label{thm:corresp} The set of traversals of the computation tree is
%isomorphic to the set of uncovered plays of the game denotation of
%the term.
%\end{thm}

Using that correspondence, it is possible to achieve a game-semantic characterisation
of Safety,

We introduce the notions of \emph{incrementally-justified
strategies} and \emph{incrementally-bound computation trees}. Using
the Correspondence Theorem, we show that for $\beta$-normal terms
the computation tree of a term is incrementally-bound if and only if
its strategy denotation is incrementally-justified. We have the
following theorem:

\begin{thm}[Game-semantic characterisation of safety]
\label{thm:gamesem_charact} Safe simply-typed terms in
$\beta$-normal form have incrementally-bound computation trees.
Reciprocally, a closed term in $\eta$-long normal form with an
incrementally-bound computation trees is safe.
\end{thm}

Since pointers in the plays of \emph{incrementally-justified
strategies} are by definition uniquely reconstructible, we obtain
the following corollary:

\begin{cor}
\label{cor:safeptrrecover} The pointers in the game semantics of
safe simply-typed terms can be recovered uniquely from the
underlying sequences of moves.
\end{cor}

\section{Extension to Safe Idealized Algol}

We define Safe \textsf{IA} to be the Safe $\lambda$-calculus
augmented with the constants of Idealized Algol (\textsf{IA})
\cite{Reynolds81} as well as a family of combinators $Y_A$ for every
type $A$. We show that terms of the Safe \textsf{PCF}
\cite{DBLP:journals/tcs/Plotkin77} fragment are denoted by
incrementally-justified strategies and we give the key elements for
a possible extension to full Safe \textsf{IA}.



\vspace{1cm}

\emph{Related work:} De Miranda's forthcoming thesis \cite{demirandathesis} proposes a unified framework for the study of higher-order grammars. The thesis contains a detailed analysis of the safety constrain at level 2. The reader is referred to it for a full account of the Safety condition for higher-order grammars.


\bibliographystyle{splncs}
\bibliography{../transfer/higherorder}

\end{document}
