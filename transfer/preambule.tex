%%% preambule

\usepackage[draft]{graphicx}
\usepackage{a4wide}
\usepackage{pst-tree}
\usepackage{stmaryrd}
\usepackage[all]{xypic}
\usepackage{amsmath, amsthm, amssymb}
\usepackage{bbm,latexsym}
\usepackage{manfnt}
\usepackage{natbib}

\newtheorem{thm}{Theorem}[section]
\newtheorem{cor}[thm]{Corollary}
\newtheorem{lem}[thm]{Lemma}
\newtheorem{prop}[thm]{Proposition}
\theoremstyle{remark}
\newtheorem{rem}[thm]{Remark}
\newtheorem{property}[thm]{Property}


\theoremstyle{definition}
\newtheorem{dfn}[thm]{Definition}
\newtheorem{algo}[thm]{Algorithm}


\def\betared{\rightarrow_\beta}
\def\betaredtr{\twoheadrightarrow_\beta} % transitive closure of the beta reduction

\def\betasred{\rightarrow_{\beta_s}}
\def\betasredO{\rightarrow_{\beta_s^1}}
\def\betasredT{\rightarrow_{\beta_s^2}}
\def\subst#1#2{\left[ #1/#2 \right]}

\def\bot{\perp}
\def\typar{\Rightarrow}
\def\nat{\textbf{N}}
\def\pview#1{\ulcorner #1 \urcorner}
\def\sem#1{ \llbracket #1 \rrbracket}
\def\dps{\displaystyle}
\def\rulef#1#2{\frac{\dps #1}{#2}}
\def\union{\cup}
\def\Union{\bigcup}

\newcommand\ord[1]{{\sf ord}(#1)}

\newcommand{\lsem}{[\![}
\newcommand{\rsem}{]\!]}
\def\sem#1{{\lsem #1 \rsem}}
\newcommand{\makeset}[1]{\{\,{#1}\,\}}


%%% game semantics
\def\typexp{\texttt{exp}}
\def\natbf{\mathbf{N}}
\def\zset{\mathbb{Z}}
\def\eval{\Downarrow}

\newcommand{\SubTree}[2][]{\Tr[ref=t]{\pstribox[#1]{#2}}}
\newcommand{\SubTreeE}[2][]{\Tr[ref=t]{\pstribox[#1]{#2}}}


\def\imp{\Rightarrow}
\def\zand{\wedge}


% ia
\def\iaskip{\texttt{skip}}
\def\deref{\texttt{deref}}
\def\assign{\texttt{assign}}


% justified sequence of move

% back pointer using psttricks
\def\bkptr#1#2{\ncarc[nodesep=3pt, arcangleA=-80, arcangleB=-80]{->}{#1}{#2}}
\def\bkptra#1#2#3{\ncarc[nodesep=3pt, arcangleA=-#1, arcangleB=-#1]{->}{#2}{#3}}
\def\bkptrb#1#2#3#4{\ncarc[nodesep=3pt, arcangleA=-#1, arcangleB=-#2]{->}{#3}{#4}}
\def\bkptrc#1#2{\ncarc[nodesep=3pt]{->}{#1}{#2}}

% backpointer using xypic
\def\justseq#1{\xymatrix @=12pt@M=0pt{ #1 }}
\def\pointto#1{\ar@/_/[#1]}

\def\oview#1{\llcorner #1 \lrcorner}
\def\pview#1{\ulcorner #1 \urcorner}



%%% Safe lambda calculus
\def\funto{\longrightarrow}
\newcommand\rank[1]{{\sf rank}(#1)}
\newcommand\order[1]{{\sf order}(#1)}
\newcommand\slheight[1]{{\sf height}(#1)}
\newcommand\nparam[1]{{\sf nparam}(#1)}
\def\nat{\mathbb{N}}

\newcommand\textbfit[1]{{\bf\em #1}\index{#1}}
\newcommand\blambda{\hbox{\boldmath $\lambda$}}
\newcommand\lterm[2]{{\blambda{#1}.{#2}}}
\newcommand\terms[2]{{\cal T}^{#1}(#2)}
\newcommand{\funsp}{\rightarrow}
\newcommand\level[1]{{\sf level}(#1)}
\newcommand\seq[2]{{{#1} \vdash {#2}}}


% model checking
\def\entail{\vdash}

% todo symbol
\def\todo{\textdbend}
\def\margintodo#1{\marginpar{\textdbend #1}}
\def\todobox#1{\colorbox{lightgray}{\parbox[h]{0.9\textwidth}{#1}}\marginpar[\textdbend]{\textdbend}}
